{
  "hash": "6ae3a4f04522a9de8e92cdd765b9c25a",
  "result": {
    "markdown": "---\ntitle: \"Analyze dataset\"\n---\n\n\n# Load packages\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Load packages\nlibrary(readr)        # reading/ writing datasets\nlibrary(stringr)      # match words  \nlibrary(knitr)        # for `kable()` function\nlibrary(dplyr)        # basic data manipulation\nlibrary(tidytext)     # text manipulation\nlibrary(qtalrkit)     # data dictionary creation\nlibrary(ggplot2)      # plotting\nlibrary(fs)           # file system operations\nlibrary(tibble)       # print data frames\nlibrary(kableExtra)   # creating formatted tables\n# Load packages\nlibrary(infer)      # for statistical inference\nlibrary(skimr)      # for descriptive statistics\nlibrary(janitor)    # for cross-tabulation\n```\n:::\n\n\n# Read files\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmeta_tbl <-\n  read_csv(\"data/derived/meta_inf.csv\")\n\nmeta_tbl <-\n  meta_tbl |> \n  mutate(Category = factor(Category))|>\n  mutate(Text_type = factor(Text_type))\n\nmeta_tbl \n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 18 × 4\n   Category_id Category           Text_type   Num\n         <dbl> <fct>              <fct>     <dbl>\n 1           1 hedges             ST            9\n 2           2 boosters           ST           29\n 3           3 attitude markers   ST            4\n 4           4 engagement markers ST            1\n 5           5 self-mentions      ST           43\n 6           6 transitions        ST           95\n 7           7 frame markers      ST           18\n 8           8 endophoric markers ST           70\n 9           9 code glosses       ST            2\n10          10 hedges             TT            7\n11          11 boosters           TT           65\n12          12 attitude markers   TT            5\n13          13 engagement markers TT            1\n14          14 self-mentions      TT           44\n15          15 transitions        TT          165\n16          16 frame markers      TT           13\n17          17 endophoric markers TT           83\n18          18 code glosses       TT           23\n```\n:::\n:::\n\n\n# Identify\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Dataset\nmeta_tbl \n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 18 × 4\n   Category_id Category           Text_type   Num\n         <dbl> <fct>              <fct>     <dbl>\n 1           1 hedges             ST            9\n 2           2 boosters           ST           29\n 3           3 attitude markers   ST            4\n 4           4 engagement markers ST            1\n 5           5 self-mentions      ST           43\n 6           6 transitions        ST           95\n 7           7 frame markers      ST           18\n 8           8 endophoric markers ST           70\n 9           9 code glosses       ST            2\n10          10 hedges             TT            7\n11          11 boosters           TT           65\n12          12 attitude markers   TT            5\n13          13 engagement markers TT            1\n14          14 self-mentions      TT           44\n15          15 transitions        TT          165\n16          16 frame markers      TT           13\n17          17 endophoric markers TT           83\n18          18 code glosses       TT           23\n```\n:::\n\n```{.r .cell-code}\n# Specify the relationship\nmeta_spec <-\n  meta_tbl |>\n  specify(Num ~ Text_type)\n\n# Preview\nmeta_spec\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nResponse: Num (numeric)\nExplanatory: Text_type (factor)\n# A tibble: 18 × 2\n     Num Text_type\n   <dbl> <fct>    \n 1     9 ST       \n 2    29 ST       \n 3     4 ST       \n 4     1 ST       \n 5    43 ST       \n 6    95 ST       \n 7    18 ST       \n 8    70 ST       \n 9     2 ST       \n10     7 TT       \n11    65 TT       \n12     5 TT       \n13     1 TT       \n14    44 TT       \n15   165 TT       \n16    13 TT       \n17    83 TT       \n18    23 TT       \n```\n:::\n:::\n\n\n# Inspect\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Density plot\nmeta_tbl |>\n  ggplot(aes(x = Num, fill = Text_type)) +\n  geom_density(alpha = 0.75) +\n  labs(\n  x = \"Metadiscourse markers number\",\n  y = \"Density\",\n  fill = \"Text type\"\n  )\n```\n\n::: {.cell-output-display}\n![](4_analyze_files/figure-html/assess-distribution-1.png){width=672}\n:::\n\n```{.r .cell-code}\nmeta_tbl |>\n  ggplot(aes(x = Text_type, y = Num, fill = Text_type)) +\n  geom_boxplot(notch = TRUE) +\n  labs(\n  x = \"Text type\",\n  y = \"Metadiscourse markers number\",\n  fill = \"Text type\"\n  )\n```\n\n::: {.cell-output-display}\n![](4_analyze_files/figure-html/assess-distribution-2.png){width=672}\n:::\n\n```{.r .cell-code}\nggplot(meta_tbl, aes(x = Num, color = Text_type)) +\n  stat_ecdf() +\n  labs(\n  x = \"Metadiscourse markers number\",\n  y = \"ECDF\",\n  color = \"Text type\"\n  )\n```\n\n::: {.cell-output-display}\n![](4_analyze_files/figure-html/assess-distribution-3.png){width=672}\n:::\n:::\n\n\n# Interrogate\n\n## Observed statistic\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmeta_obs <-\n  meta_spec |>\n  # Target Text - Source Text\n  calculate(stat = \"diff in means\", order = c(\"TT\", \"ST\"))\n\nmeta_obs\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nResponse: Num (numeric)\nExplanatory: Text_type (factor)\n# A tibble: 1 × 1\n   stat\n  <dbl>\n1    15\n```\n:::\n:::\n\n\n## Null distribution\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmeta_null <-\n  meta_spec |>\n  hypothesize(null = \"independence\") |>\n  generate(reps = 1000, type = \"permute\") |>\n  calculate(stat = \"diff in means\", order = c(\"TT\", \"ST\"))\n\nmeta_null |> visualize() +\n  shade_p_value(obs_stat = meta_obs, direction = \"greater\")\n```\n\n::: {.cell-output-display}\n![](4_analyze_files/figure-html/generate-null-distribution-1.png){width=672}\n:::\n:::\n\n\n## P-value\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmeta_p <-\n  meta_null |>\n  get_p_value(obs_stat = meta_obs, direction = \"greater\")\n\nmeta_p\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 1 × 1\n  p_value\n    <dbl>\n1   0.266\n```\n:::\n:::\n\n\n## Resampling distribution\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmeta_boot <-\n  meta_spec |>\n  generate(reps = 1000, type = \"bootstrap\") |>\n  calculate(stat = \"diff in means\", order = c(\"TT\", \"ST\"))\n\nmeta_boot |> visualize()\n```\n\n::: {.cell-output-display}\n![](4_analyze_files/figure-html/generate-resampling-distribution-1.png){width=672}\n:::\n:::\n\n\n## Confidence interval\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmeta_ci <-\n  meta_boot |>\n  get_confidence_interval(level = 0.95)\n\nmeta_ci\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 1 × 2\n  lower_ci upper_ci\n     <dbl>    <dbl>\n1    -23.6     57.6\n```\n:::\n:::\n\n\n# Interpret\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Evaluate the p-value\nmeta_p\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 1 × 1\n  p_value\n    <dbl>\n1   0.266\n```\n:::\n\n```{.r .cell-code}\n# Evaluate the confidence interval\nmeta_ci\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 1 × 2\n  lower_ci upper_ci\n     <dbl>    <dbl>\n1    -23.6     57.6\n```\n:::\n\n```{.r .cell-code}\nmeta_boot |>\n  visualize() +\n  shade_confidence_interval(meta_ci)\n```\n\n::: {.cell-output-display}\n![](4_analyze_files/figure-html/evaluate-1.png){width=672}\n:::\n:::",
    "supporting": [
      "4_analyze_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}